---
layout: null
---
[
{%- assign counter = 0 -%}
{%- assign first_item = true -%}
{%- for page in site.pages -%}
  {%- if page.url contains '.xml' or page.url contains 'assets' or page.url contains '.json' -%}
  {%- else -%}
    {%- unless first_item -%},{%- endunless -%}
    {%- assign first_item = false -%}
{
  "id": {{ counter }},
  "url": "{{ site.url }}{{ page.url }}",
  "title": {{ page.title | jsonify }},
  "body": {{ page.content | markdownify | strip_html | strip_newlines | truncate: 300 | jsonify }}
}
    {%- assign counter = counter | plus: 1 -%}
  {%- endif -%}
{%- endfor -%}
{%- for page in site.without-plugin -%}
    {%- unless first_item -%},{%- endunless -%}
    {%- assign first_item = false -%}
{
  "id": {{ counter }},
  "url": "{{ site.url }}{{ page.url }}",
  "title": {{ page.title | jsonify }},
  "body": {{ page.content | markdownify | strip_html | strip_newlines | truncate: 300 | jsonify }}
}
  {%- assign counter = counter | plus: 1 -%}
{%- endfor -%}
{%- for page in site.posts -%}
    {%- unless first_item -%},{%- endunless -%}
    {%- assign first_item = false -%}
{
  "id": {{ counter }},
  "url": "{{ site.url }}{{ page.url }}",
  "title": {{ page.title | jsonify }},
  "body": {{ page.date | date: '%Y/%m/%d' | append: ' - ' | append: page.content | markdownify | strip_html | strip_newlines | truncate: 300 | jsonify }}
}
  {%- assign counter = counter | plus: 1 -%}
{%- endfor -%}
]
